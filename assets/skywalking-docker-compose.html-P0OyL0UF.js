const n=JSON.parse(`{"key":"v-16f03f30","path":"/tool/Docker/skywalking-docker-compose.html","title":"skywalking-docker-compose.yml","lang":"zh-CN","frontmatter":{"title":"skywalking-docker-compose.yml","description":"skywalking-docker-compose.yml version: '3.8' services: elasticsearch: image: elasticsearch:7.16.2 container_name: elasticsearch ports: - \\"9200:9200\\" healthcheck: test: [ \\"CMD-SHELL\\", \\"curl --silent --fail localhost:9200/_cluster/health || exit 1\\" ] interval: 30s timeout: 10s retries: 3 start_period: 10s environment: - discovery.type=single-node - bootstrap.memory_lock=true - \\"ES_JAVA_OPTS=-Xms512m -Xmx512m\\" ulimits: memlock: soft: -1 hard: -1 volumes: - ./data/es_data:/usr/share/elasticsearch/data oap: image: apache/skywalking-oap-server:8.9.0 container_name: oap depends_on: elasticsearch: condition: service_healthy links: - elasticsearch ports: - \\"11800:11800\\" - \\"12800:12800\\" healthcheck: test: [ \\"CMD-SHELL\\", \\"/skywalking/bin/swctl ch\\" ] interval: 30s timeout: 10s retries: 3 start_period: 10s environment: SW_STORAGE: elasticsearch SW_STORAGE_ES_CLUSTER_NODES: elasticsearch:9200 SW_HEALTH_CHECKER: default SW_TELEMETRY: prometheus JAVA_OPTS: \\"-Xms1024m -Xmx1024m\\" skywalking-ui: image: apache/skywalking-ui:8.9.0 container_name: skywalking-ui depends_on: oap: condition: service_healthy links: - oap ports: - \\"9090:8080\\" environment: SW_OAP_ADDRESS: http://oap:12800","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/tool/Docker/skywalking-docker-compose.html"}],["meta",{"property":"og:site_name","content":"Jef Blog"}],["meta",{"property":"og:title","content":"skywalking-docker-compose.yml"}],["meta",{"property":"og:description","content":"skywalking-docker-compose.yml version: '3.8' services: elasticsearch: image: elasticsearch:7.16.2 container_name: elasticsearch ports: - \\"9200:9200\\" healthcheck: test: [ \\"CMD-SHELL\\", \\"curl --silent --fail localhost:9200/_cluster/health || exit 1\\" ] interval: 30s timeout: 10s retries: 3 start_period: 10s environment: - discovery.type=single-node - bootstrap.memory_lock=true - \\"ES_JAVA_OPTS=-Xms512m -Xmx512m\\" ulimits: memlock: soft: -1 hard: -1 volumes: - ./data/es_data:/usr/share/elasticsearch/data oap: image: apache/skywalking-oap-server:8.9.0 container_name: oap depends_on: elasticsearch: condition: service_healthy links: - elasticsearch ports: - \\"11800:11800\\" - \\"12800:12800\\" healthcheck: test: [ \\"CMD-SHELL\\", \\"/skywalking/bin/swctl ch\\" ] interval: 30s timeout: 10s retries: 3 start_period: 10s environment: SW_STORAGE: elasticsearch SW_STORAGE_ES_CLUSTER_NODES: elasticsearch:9200 SW_HEALTH_CHECKER: default SW_TELEMETRY: prometheus JAVA_OPTS: \\"-Xms1024m -Xmx1024m\\" skywalking-ui: image: apache/skywalking-ui:8.9.0 container_name: skywalking-ui depends_on: oap: condition: service_healthy links: - oap ports: - \\"9090:8080\\" environment: SW_OAP_ADDRESS: http://oap:12800"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-02-06T03:11:41.000Z"}],["meta",{"property":"article:author","content":"Jef"}],["meta",{"property":"article:modified_time","content":"2024-02-06T03:11:41.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"skywalking-docker-compose.yml\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-02-06T03:11:41.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Jef\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[],"git":{"createdTime":1707189101000,"updatedTime":1707189101000,"contributors":[{"name":"tufujie","email":"tufj@hua-cloud.com.cn","commits":1}]},"readingTime":{"minutes":0.42,"words":126},"filePathRelative":"tool/Docker/skywalking-docker-compose.md","localizedDate":"2024年2月6日","excerpt":"<p><strong>skywalking-docker-compose.yml</strong></p>\\n<div class=\\"language-yaml line-numbers-mode\\" data-ext=\\"yml\\"><pre class=\\"language-yaml\\"><code><span class=\\"token key atrule\\">version</span><span class=\\"token punctuation\\">:</span> <span class=\\"token string\\">'3.8'</span>\\n<span class=\\"token key atrule\\">services</span><span class=\\"token punctuation\\">:</span>\\n  <span class=\\"token key atrule\\">elasticsearch</span><span class=\\"token punctuation\\">:</span>\\n    <span class=\\"token key atrule\\">image</span><span class=\\"token punctuation\\">:</span> elasticsearch<span class=\\"token punctuation\\">:</span>7.16.2\\n    <span class=\\"token key atrule\\">container_name</span><span class=\\"token punctuation\\">:</span> elasticsearch\\n    <span class=\\"token key atrule\\">ports</span><span class=\\"token punctuation\\">:</span>\\n      <span class=\\"token punctuation\\">-</span> <span class=\\"token string\\">\\"9200:9200\\"</span>\\n    <span class=\\"token key atrule\\">healthcheck</span><span class=\\"token punctuation\\">:</span>\\n      <span class=\\"token key atrule\\">test</span><span class=\\"token punctuation\\">:</span> <span class=\\"token punctuation\\">[</span> <span class=\\"token string\\">\\"CMD-SHELL\\"</span><span class=\\"token punctuation\\">,</span> <span class=\\"token string\\">\\"curl --silent --fail localhost:9200/_cluster/health || exit 1\\"</span> <span class=\\"token punctuation\\">]</span>\\n      <span class=\\"token key atrule\\">interval</span><span class=\\"token punctuation\\">:</span> 30s\\n      <span class=\\"token key atrule\\">timeout</span><span class=\\"token punctuation\\">:</span> 10s\\n      <span class=\\"token key atrule\\">retries</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">3</span>\\n      <span class=\\"token key atrule\\">start_period</span><span class=\\"token punctuation\\">:</span> 10s\\n    <span class=\\"token key atrule\\">environment</span><span class=\\"token punctuation\\">:</span>\\n      <span class=\\"token punctuation\\">-</span> discovery.type=single<span class=\\"token punctuation\\">-</span>node\\n      <span class=\\"token punctuation\\">-</span> bootstrap.memory_lock=true\\n      <span class=\\"token punctuation\\">-</span> <span class=\\"token string\\">\\"ES_JAVA_OPTS=-Xms512m -Xmx512m\\"</span>\\n    <span class=\\"token key atrule\\">ulimits</span><span class=\\"token punctuation\\">:</span>\\n      <span class=\\"token key atrule\\">memlock</span><span class=\\"token punctuation\\">:</span>\\n        <span class=\\"token key atrule\\">soft</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">-1</span>\\n        <span class=\\"token key atrule\\">hard</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">-1</span>\\n    <span class=\\"token key atrule\\">volumes</span><span class=\\"token punctuation\\">:</span>\\n      <span class=\\"token punctuation\\">-</span> ./data/es_data<span class=\\"token punctuation\\">:</span>/usr/share/elasticsearch/data\\n\\n  <span class=\\"token key atrule\\">oap</span><span class=\\"token punctuation\\">:</span>\\n    <span class=\\"token key atrule\\">image</span><span class=\\"token punctuation\\">:</span> apache/skywalking<span class=\\"token punctuation\\">-</span>oap<span class=\\"token punctuation\\">-</span>server<span class=\\"token punctuation\\">:</span>8.9.0\\n    <span class=\\"token key atrule\\">container_name</span><span class=\\"token punctuation\\">:</span> oap\\n    <span class=\\"token key atrule\\">depends_on</span><span class=\\"token punctuation\\">:</span>\\n      <span class=\\"token key atrule\\">elasticsearch</span><span class=\\"token punctuation\\">:</span>\\n        <span class=\\"token key atrule\\">condition</span><span class=\\"token punctuation\\">:</span> service_healthy\\n    <span class=\\"token key atrule\\">links</span><span class=\\"token punctuation\\">:</span>\\n      <span class=\\"token punctuation\\">-</span> elasticsearch\\n    <span class=\\"token key atrule\\">ports</span><span class=\\"token punctuation\\">:</span>\\n      <span class=\\"token punctuation\\">-</span> <span class=\\"token string\\">\\"11800:11800\\"</span>\\n      <span class=\\"token punctuation\\">-</span> <span class=\\"token string\\">\\"12800:12800\\"</span>\\n    <span class=\\"token key atrule\\">healthcheck</span><span class=\\"token punctuation\\">:</span>\\n      <span class=\\"token key atrule\\">test</span><span class=\\"token punctuation\\">:</span> <span class=\\"token punctuation\\">[</span> <span class=\\"token string\\">\\"CMD-SHELL\\"</span><span class=\\"token punctuation\\">,</span> <span class=\\"token string\\">\\"/skywalking/bin/swctl ch\\"</span> <span class=\\"token punctuation\\">]</span>\\n      <span class=\\"token key atrule\\">interval</span><span class=\\"token punctuation\\">:</span> 30s\\n      <span class=\\"token key atrule\\">timeout</span><span class=\\"token punctuation\\">:</span> 10s\\n      <span class=\\"token key atrule\\">retries</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">3</span>\\n      <span class=\\"token key atrule\\">start_period</span><span class=\\"token punctuation\\">:</span> 10s\\n    <span class=\\"token key atrule\\">environment</span><span class=\\"token punctuation\\">:</span>\\n      <span class=\\"token key atrule\\">SW_STORAGE</span><span class=\\"token punctuation\\">:</span> elasticsearch\\n      <span class=\\"token key atrule\\">SW_STORAGE_ES_CLUSTER_NODES</span><span class=\\"token punctuation\\">:</span> elasticsearch<span class=\\"token punctuation\\">:</span><span class=\\"token number\\">9200</span>\\n      <span class=\\"token key atrule\\">SW_HEALTH_CHECKER</span><span class=\\"token punctuation\\">:</span> default\\n      <span class=\\"token key atrule\\">SW_TELEMETRY</span><span class=\\"token punctuation\\">:</span> prometheus\\n      <span class=\\"token key atrule\\">JAVA_OPTS</span><span class=\\"token punctuation\\">:</span> <span class=\\"token string\\">\\"-Xms1024m -Xmx1024m\\"</span>\\n\\n  <span class=\\"token key atrule\\">skywalking-ui</span><span class=\\"token punctuation\\">:</span>\\n    <span class=\\"token key atrule\\">image</span><span class=\\"token punctuation\\">:</span> apache/skywalking<span class=\\"token punctuation\\">-</span>ui<span class=\\"token punctuation\\">:</span>8.9.0\\n    <span class=\\"token key atrule\\">container_name</span><span class=\\"token punctuation\\">:</span> skywalking<span class=\\"token punctuation\\">-</span>ui\\n    <span class=\\"token key atrule\\">depends_on</span><span class=\\"token punctuation\\">:</span>\\n      <span class=\\"token key atrule\\">oap</span><span class=\\"token punctuation\\">:</span>\\n        <span class=\\"token key atrule\\">condition</span><span class=\\"token punctuation\\">:</span> service_healthy\\n    <span class=\\"token key atrule\\">links</span><span class=\\"token punctuation\\">:</span>\\n      <span class=\\"token punctuation\\">-</span> oap\\n    <span class=\\"token key atrule\\">ports</span><span class=\\"token punctuation\\">:</span>\\n      <span class=\\"token punctuation\\">-</span> <span class=\\"token string\\">\\"9090:8080\\"</span>\\n    <span class=\\"token key atrule\\">environment</span><span class=\\"token punctuation\\">:</span>\\n      <span class=\\"token key atrule\\">SW_OAP_ADDRESS</span><span class=\\"token punctuation\\">:</span> http<span class=\\"token punctuation\\">:</span>//oap<span class=\\"token punctuation\\">:</span><span class=\\"token number\\">12800</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}`);export{n as data};
