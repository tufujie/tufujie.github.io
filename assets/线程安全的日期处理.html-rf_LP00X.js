const a=JSON.parse('{"key":"v-91152d0c","path":"/home/%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E7%9A%84%E6%97%A5%E6%9C%9F%E5%A4%84%E7%90%86.html","title":"线程安全的日期处理","lang":"zh-CN","frontmatter":{"title":"线程安全的日期处理","description":"private static ThreadLocal&lt;DateFormat&gt; THREAD_LOCAL = new ThreadLocal&lt;DateFormat&gt;(); public static final String NORMAL_DATE_FORMAT = \\"yyyy-MM-dd\\"; public static DateTimeFormatter FORMATTER = DateTimeFormatter.ofPattern(\\"yyyy-MM-dd\\"); public static org.joda.time.format.DateTimeFormatter FORMATTER_2 = org.joda.time.format.DateTimeFormat.forPattern( \\"yyyy-MM-dd\\"); // 方式1，new SimpleDateFormat SimpleDateFormat simpleDateFormat = new SimpleDateFormat(DateTimeUtil.NORMAL_DATE_FORMAT); simpleDateFormat.parse(text); // 方式2，DateTimeFormatter，推荐 LocalDate.parse(text, DateTimeUtil.FORMATTER); // 方式3，org.joda.time.DateTime，推荐 DateTime.parse(text, DateTimeUtil.FORMATTER_2).toDate(); // 方式4，ThreadLocal DateFormat dateFormat = THREAD_LOCAL.get(); if (dateFormat == null) { dateFormat = new SimpleDateFormat(DateTimeUtil.NORMAL_DATE_FORMAT); THREAD_LOCAL.set(dateFormat); } dateFormat.parse(text); // 其他，方式5，synchronized，方式6，Lock，不建议","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/home/%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E7%9A%84%E6%97%A5%E6%9C%9F%E5%A4%84%E7%90%86.html"}],["meta",{"property":"og:site_name","content":"Jef Blog"}],["meta",{"property":"og:title","content":"线程安全的日期处理"}],["meta",{"property":"og:description","content":"private static ThreadLocal&lt;DateFormat&gt; THREAD_LOCAL = new ThreadLocal&lt;DateFormat&gt;(); public static final String NORMAL_DATE_FORMAT = \\"yyyy-MM-dd\\"; public static DateTimeFormatter FORMATTER = DateTimeFormatter.ofPattern(\\"yyyy-MM-dd\\"); public static org.joda.time.format.DateTimeFormatter FORMATTER_2 = org.joda.time.format.DateTimeFormat.forPattern( \\"yyyy-MM-dd\\"); // 方式1，new SimpleDateFormat SimpleDateFormat simpleDateFormat = new SimpleDateFormat(DateTimeUtil.NORMAL_DATE_FORMAT); simpleDateFormat.parse(text); // 方式2，DateTimeFormatter，推荐 LocalDate.parse(text, DateTimeUtil.FORMATTER); // 方式3，org.joda.time.DateTime，推荐 DateTime.parse(text, DateTimeUtil.FORMATTER_2).toDate(); // 方式4，ThreadLocal DateFormat dateFormat = THREAD_LOCAL.get(); if (dateFormat == null) { dateFormat = new SimpleDateFormat(DateTimeUtil.NORMAL_DATE_FORMAT); THREAD_LOCAL.set(dateFormat); } dateFormat.parse(text); // 其他，方式5，synchronized，方式6，Lock，不建议"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-12-15T10:55:04.000Z"}],["meta",{"property":"article:author","content":"Jef"}],["meta",{"property":"article:modified_time","content":"2023-12-15T10:55:04.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"线程安全的日期处理\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-12-15T10:55:04.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Jef\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[],"git":{"createdTime":1702637704000,"updatedTime":1702637704000,"contributors":[{"name":"tufujie","email":"tufj@hua-cloud.com.cn","commits":1}]},"readingTime":{"minutes":0.37,"words":110},"filePathRelative":"home/解决方案/线程安全的日期处理.md","localizedDate":"2023年12月15日","excerpt":"<div class=\\"language-java line-numbers-mode\\" data-ext=\\"java\\"><pre class=\\"language-java\\"><code><span class=\\"token keyword\\">private</span> <span class=\\"token keyword\\">static</span> <span class=\\"token class-name\\">ThreadLocal</span><span class=\\"token generics\\"><span class=\\"token punctuation\\">&lt;</span><span class=\\"token class-name\\">DateFormat</span><span class=\\"token punctuation\\">&gt;</span></span> <span class=\\"token constant\\">THREAD_LOCAL</span> <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">new</span> <span class=\\"token class-name\\">ThreadLocal</span><span class=\\"token generics\\"><span class=\\"token punctuation\\">&lt;</span><span class=\\"token class-name\\">DateFormat</span><span class=\\"token punctuation\\">&gt;</span></span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n\\n<span class=\\"token keyword\\">public</span> <span class=\\"token keyword\\">static</span> <span class=\\"token keyword\\">final</span> <span class=\\"token class-name\\">String</span> <span class=\\"token constant\\">NORMAL_DATE_FORMAT</span> <span class=\\"token operator\\">=</span> <span class=\\"token string\\">\\"yyyy-MM-dd\\"</span><span class=\\"token punctuation\\">;</span>\\n\\n<span class=\\"token keyword\\">public</span> <span class=\\"token keyword\\">static</span> <span class=\\"token class-name\\">DateTimeFormatter</span> <span class=\\"token constant\\">FORMATTER</span> <span class=\\"token operator\\">=</span> <span class=\\"token class-name\\">DateTimeFormatter</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">ofPattern</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">\\"yyyy-MM-dd\\"</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n\\n<span class=\\"token keyword\\">public</span> <span class=\\"token keyword\\">static</span> <span class=\\"token class-name\\"><span class=\\"token namespace\\">org<span class=\\"token punctuation\\">.</span>joda<span class=\\"token punctuation\\">.</span>time<span class=\\"token punctuation\\">.</span>format<span class=\\"token punctuation\\">.</span></span>DateTimeFormatter</span> <span class=\\"token constant\\">FORMATTER_2</span> <span class=\\"token operator\\">=</span> <span class=\\"token class-name\\"><span class=\\"token namespace\\">org<span class=\\"token punctuation\\">.</span>joda<span class=\\"token punctuation\\">.</span>time<span class=\\"token punctuation\\">.</span>format<span class=\\"token punctuation\\">.</span></span>DateTimeFormat</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">forPattern</span><span class=\\"token punctuation\\">(</span>\\n            <span class=\\"token string\\">\\"yyyy-MM-dd\\"</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n\\n\\n<span class=\\"token comment\\">// 方式1，new SimpleDateFormat</span>\\n<span class=\\"token class-name\\">SimpleDateFormat</span> simpleDateFormat <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">new</span> <span class=\\"token class-name\\">SimpleDateFormat</span><span class=\\"token punctuation\\">(</span><span class=\\"token class-name\\">DateTimeUtil</span><span class=\\"token punctuation\\">.</span><span class=\\"token constant\\">NORMAL_DATE_FORMAT</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\nsimpleDateFormat<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">parse</span><span class=\\"token punctuation\\">(</span>text<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token comment\\">// 方式2，DateTimeFormatter，推荐</span>\\n<span class=\\"token class-name\\">LocalDate</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">parse</span><span class=\\"token punctuation\\">(</span>text<span class=\\"token punctuation\\">,</span> <span class=\\"token class-name\\">DateTimeUtil</span><span class=\\"token punctuation\\">.</span><span class=\\"token constant\\">FORMATTER</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token comment\\">// 方式3，org.joda.time.DateTime，推荐</span>\\n<span class=\\"token class-name\\">DateTime</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">parse</span><span class=\\"token punctuation\\">(</span>text<span class=\\"token punctuation\\">,</span> <span class=\\"token class-name\\">DateTimeUtil</span><span class=\\"token punctuation\\">.</span><span class=\\"token constant\\">FORMATTER_2</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">toDate</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token comment\\">// 方式4，ThreadLocal</span>\\n<span class=\\"token class-name\\">DateFormat</span> dateFormat <span class=\\"token operator\\">=</span> <span class=\\"token constant\\">THREAD_LOCAL</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">get</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token keyword\\">if</span> <span class=\\"token punctuation\\">(</span>dateFormat <span class=\\"token operator\\">==</span> <span class=\\"token keyword\\">null</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n    dateFormat <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">new</span> <span class=\\"token class-name\\">SimpleDateFormat</span><span class=\\"token punctuation\\">(</span><span class=\\"token class-name\\">DateTimeUtil</span><span class=\\"token punctuation\\">.</span><span class=\\"token constant\\">NORMAL_DATE_FORMAT</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token constant\\">THREAD_LOCAL</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">set</span><span class=\\"token punctuation\\">(</span>dateFormat<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token punctuation\\">}</span>\\ndateFormat<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">parse</span><span class=\\"token punctuation\\">(</span>text<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token comment\\">// 其他，方式5，synchronized，方式6，Lock，不建议</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{a as data};
